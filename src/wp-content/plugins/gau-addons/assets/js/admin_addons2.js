import{a as e,n as t}from"./_vendor.js";Object.assign(window,{Cookies:e}),jQuery((function(n){function r(e){const r=n(e),i=t(9);r.addClass(i);let o=r.attr("id");return o||(o=i,r.attr("id",o)),o}if("undefined"!=typeof codemirror_settings){const e=[...document.querySelectorAll(".codemirror_css")];_.each(e,(function(e,t){r(e);let n=codemirror_settings.codemirror_css?_.clone(codemirror_settings.codemirror_css):{};n.codemirror=_.extend({},n.codemirror,{indentUnit:3,tabSize:3,autoRefresh:!0}),wp.codeEditor.initialize(e,n)}));const t=[...document.querySelectorAll(".codemirror_html")];_.each(t,(function(e,t){r(e);let n=codemirror_settings.codemirror_html?_.clone(codemirror_settings.codemirror_html):{};n.codemirror=_.extend({},n.codemirror,{indentUnit:3,tabSize:3,autoRefresh:!0}),wp.codeEditor.initialize(e,n)}))}n.fn.fadeOutAndRemove=function(e){return this.fadeOut(e,(function(){n(this).remove()}))},n.fn.serializeObject=function(){let e={},t=this.serializeArray();return n.each(t,(function(){let t=this.name,n=this.value||"";t.indexOf("[]")>-1?(t=t.replace("[]",""),e[t]||(e[t]=[]),e[t].push(n)):void 0!==e[t]?(Array.isArray(e[t])||(e[t]=[e[t]]),e[t].push(n)):e[t]=n})),e},n(document).on("click",".notice-dismiss",(function(e){var t;null==(t=n(this).closest(".notice.is-dismissible"))||t.fadeOutAndRemove(400)})),n(document).on("submit","#_settings_form",(function(e){e.preventDefault();let t=n(this),r=t.find('button[name="_submit_settings"]'),i=r.html();r.prop("disabled",!0).html('<span class="ajax-loader">&nbsp;</span>'),n.ajax({type:"POST",url:ajaxurl,data:{action:"submit_settings",_data:t.serializeObject(),_ajax_nonce:t.find('input[name="_wpnonce"]').val(),_wp_http_referer:t.find('input[name="_wp_http_referer"]').val()}}).done((function(e){r.prop("disabled",!1).html(i),t.find("#_content").prepend(e),setTimeout((()=>{var e;null==(e=t.find("#_content").find(".dismissible-auto"))||e.fadeOutAndRemove(400)}),4e3)})).fail((function(e,t,n){r.prop("disabled",!1).html(i)}))}));const i=n(".filter-tabs");n.each(i,(function(t,i){const o=n(i),s=r(i),a=o.find(".tabs-nav"),c=o.find(".tabs-content"),d=`cookie_${s}_${t}`;let l=e.get(d);l||(l=a.find("a:first").attr("href"),e.set(d,l,{expires:7,path:"",secure:!0})),a.find("a.current").removeClass("current"),a.find(`a[href="${l}"]`).addClass("current"),a.find("a").on("click",(function(t){var r,i;t.preventDefault();const o=n(this),s=o.attr("href");e.set(d,s,{expires:7,path:"",secure:!0}),a.find("a.current").removeClass("current"),null==(r=c.find(".tabs-panel:visible").removeClass("show"))||r.hide(),null==(i=n(o.attr("href")).addClass("show"))||i.show(),o.addClass("current")})).filter(".current").trigger("click")}))}));
