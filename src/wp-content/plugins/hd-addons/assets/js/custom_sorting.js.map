{"version":3,"file":"custom_sorting.js","sources":["../../resources/js/custom_sorting.js"],"sourcesContent":["jQuery(function($) {\n    $('table.widefat tbody th, table.widefat tbody td').css('cursor', 'move');\n\n    const _helper = function(event, ui) {\n        ui.each(function() {\n            $(this).width($(this).width());\n        });\n        return ui;\n    };\n\n    const _start = function(event, ui) {\n        ui.item.css('background-color', '#ffffff');\n        ui.item.children('td, th').css('border-bottom-width', '0');\n        ui.item.css('outline', '1px solid #dfdfdf');\n    };\n\n    const _stop = function(event, ui) {\n        ui.item.removeAttr('style');\n        ui.item.children('td,th').css('border-bottom-width', '1px');\n    };\n\n    const _sort = function(e, ui) {\n        ui.placeholder.find('td').each(function(key, value) {\n            if (ui.helper.find('td').eq(key).is(':visible')) {\n                $(this).show();\n            } else {\n                $(this).hide();\n            }\n        });\n    };\n\n    // pages, posts\n    $('table.posts #the-list, table.pages #the-list').sortable({\n        items: 'tr:not(.inline-edit-row)',\n        cursor: 'move',\n        axis: 'y',\n        containment: 'table.widefat',\n        scrollSensitivity: 40,\n        helper: _helper,\n        start: _start,\n        stop: _stop,\n        update: function(event, ui) {\n            $('table.widefat tbody th, table.widefat tbody td').css('cursor', 'default');\n            $('table.widefat tbody').sortable('disable');\n\n            // Show Spinner\n            ui.item\n                .find('.check-column input')\n                .hide()\n                .after('<img alt=\"processing\" src=\"images/wpspin_light.gif\" class=\"waiting\" style=\"margin-left: 6px;\" />');\n\n            // sorting via ajax\n            $.post(\n                ajaxurl,\n                {\n                    action: 'update-menu-order',\n                    order: $('#the-list').sortable('serialize'),\n                },\n                function(response) {\n                    ui.item.find('.check-column input').show().siblings('img').remove();\n                    $('table.widefat tbody th, table.widefat tbody td').css('cursor', 'move');\n                    $('table.widefat tbody').sortable('enable');\n                },\n            );\n\n            // fix cell colors\n            $('table.widefat tbody tr').each(function() {\n                let i = $('table.widefat tbody tr').index(this);\n                if (i % 2 === 0) {\n                    $(this).addClass('alternate');\n                } else {\n                    $(this).removeClass('alternate');\n                }\n            });\n        },\n        sort: _sort,\n    });\n\n    // tags\n    $('table.tags #the-list').sortable({\n        items: 'tr:not(.inline-edit-row)',\n        cursor: 'move',\n        axis: 'y',\n        containment: 'table.widefat',\n        scrollSensitivity: 40,\n        helper: _helper,\n        start: _start,\n        stop: _stop,\n        update: function(event, ui) {\n            $('table.widefat tbody th, table.widefat tbody td').css('cursor', 'default');\n            $('table.widefat tbody').sortable('disable');\n\n            // Show Spinner\n            ui.item\n                .find('.check-column input')\n                .hide()\n                .after('<img alt=\"processing\" src=\"images/wpspin_light.gif\" class=\"waiting\" style=\"margin-left: 6px;\" />');\n\n            // sorting via ajax\n            $.post(\n                ajaxurl,\n                {\n                    action: 'update-menu-order-tags',\n                    order: $('#the-list').sortable('serialize'),\n                },\n                function(response) {\n                    ui.item.find('.check-column input').show().siblings('img').remove();\n                    $('table.widefat tbody th, table.widefat tbody td').css('cursor', 'move');\n                    $('table.widefat tbody').sortable('enable');\n                },\n            );\n\n            // fix cell colors\n            $('table.widefat tbody tr').each(function() {\n                let i = $('table.widefat tbody tr').index(this);\n                if (i % 2 === 0) {\n                    $(this).addClass('alternate');\n                } else {\n                    $(this).removeClass('alternate');\n                }\n            });\n        },\n        sort: _sort,\n    });\n});\n"],"names":[],"mappings":"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"}