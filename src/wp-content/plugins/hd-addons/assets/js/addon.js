import{s as t}from"./_vendor.js";t(),document.addEventListener("DOMContentLoaded",(()=>{if($(".addon-color-field").wpColorPicker(),"undefined"!=typeof codemirror_settings){let t=function(t,e,o){t.forEach((t=>{if(!t.CodeMirror){let o=e?{...e}:{};o.codemirror={...o.codemirror,indentUnit:3,tabSize:3,autoRefresh:!0},t.CodeMirror=wp.codeEditor.initialize(t,o)}}))};const e=document.querySelectorAll(".codemirror_css"),o=document.querySelectorAll(".codemirror_html");t(e,codemirror_settings.codemirror_css),t(o,codemirror_settings.codemirror_html)}$.fn.fadeOutAndRemove=function(t){return this.fadeOut(t,(function(){$(this).remove()}))},$.fn.serializeObject=function(){let t={},e=this.serializeArray();return $.each(e,(function(){let e=this.name,o=this.value||"";e.indexOf("[]")>-1?(e=e.replace("[]",""),t[e]||(t[e]=[]),t[e].push(o)):void 0!==t[e]?(Array.isArray(t[e])||(t[e]=[t[e]]),t[e].push(o)):t[e]=o})),t},$(document).on("click",".notice-dismiss",(function(t){var e;null==(e=$(this).closest(".notice.is-dismissible"))||e.fadeOutAndRemove(500)})),$(document).on("submit","#_settings_form",(function(t){t.preventDefault();let e=$(this),o=e.serializeObject(),n=e.find('button[name="_submit_settings"]'),i=n.html();n.prop("disabled",!0).html('<span class="ajax-loader">&nbsp;</span>'),$.ajax({type:"POST",url:ajaxurl,data:{action:"submit_settings",_data:o,_ajax_nonce:e.find('input[name="_wpnonce"]').val(),_wp_http_referer:e.find('input[name="_wp_http_referer"]').val()}}).done((function(t){n.prop("disabled",!1).html(i),e.find("#_content").prepend(t),(!window.location.hash||"#global_setting_settings"===window.location.hash||"#custom_css_settings"===window.location.hash||"#custom_script_settings"===window.location.hash||"#custom_sorting_settings"===window.location.hash&&void 0!==o.order_reset||"#base_slug_settings"===window.location.hash&&void 0!==o.base_slug_reset)&&window.location.reload(),setTimeout((()=>{var t,o;null==(o=null==(t=e.find("#_content"))?void 0:t.find(".dismissible-auto"))||o.fadeOutAndRemove(400)}),4e3)})).fail((function(t,e,o){n.prop("disabled",!1).html(i)}))})),$(".filter-tabs").each((function(){const t=$(this),e=t.find(".tabs-nav"),o=t.find(".tabs-content"),n=e.find("a"),i=window.location.hash,r=t=>{const i=e.find(`a[href="${t}"]`);e.find("a").removeClass("current"),o.find(".tabs-panel").hide(),i.length?(i.addClass("current"),$(t).show()):(n.first().addClass("current"),o.find(".tabs-panel").first().show(),window.history.replaceState(null,null,window.location.pathname+window.location.search))};r(i||n.first().attr("href")),e.on("click","a",(function(e){e.preventDefault();const o=$(this).attr("href");window.location.hash=o,r(o),$("html, body").animate({scrollTop:t.offset().top-$("header").outerHeight()},300)})),$(window).on("hashchange",(function(){r(window.location.hash||n.first().attr("href"))}))}));const t=$(".select2-multiple");$.each(t,(function(t,e){$(e).select2({multiple:!0,allowClear:!0,width:"resolve",dropdownAutoWidth:!0,placeholder:$(e).attr("placeholder")})}));const e=$(".select2-tags");$.each(e,(function(t,e){$(e).select2({multiple:!0,tags:!0,allowClear:!0,width:"resolve",dropdownAutoWidth:!0,placeholder:$(e).attr("placeholder")})}));const o=$(".select2-ips");$.each(o,(function(t,e){$(e).select2({multiple:!0,tags:!0,allowClear:!0,width:"resolve",dropdownAutoWidth:!0,placeholder:$(e).attr("placeholder"),createTag:function(t){let e=$.trim(t.term);return function(t){if(/^(25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})\.(25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})\.(25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})\.(25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})$/.test(t))return!0;if(/^(25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})\.(25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})\.(25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})\.(25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})-(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])$/.test(t)){const[e,o]=t.split("-"),n=e.split(".").slice(0,3).join(".")+"."+o;return function(t,e){const o=t.split(".").map(Number),n=e.split(".").map(Number);for(let i=0;i<4;i++){if(o[i]<n[i])return-1;if(o[i]>n[i])return 1}return 0}(e,n)<0}return/^(25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})\.(25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})\.(25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})\.(25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})\/(\d|[1-2]\d|3[0-2])$/.test(t)}(e)?{id:e,text:e}:null}})}));const n=$(".select2-emails");$.each(n,(function(t,e){$(e).select2({multiple:!0,tags:!0,allowClear:!0,width:"resolve",dropdownAutoWidth:!0,placeholder:$(e).attr("placeholder"),createTag:function(t){let e=$.trim(t.term);return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?{id:e,text:e}:null}})}))}));
