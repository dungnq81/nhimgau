{"version":3,"file":"social-share.js","sources":["../../resources/js/components/social-share.js"],"sourcesContent":["import { SocialShare } from '@loltgt/ensemble-social-share';\n\nconst DEFAULT_OPTIONS = {\n    layout: 'h',\n    intents: [\n        'facebook',\n        'x',\n        'linkedin',\n        'threads',\n        'bluesky',\n        'reddit',\n        'mastodon',\n        'quora',\n        'whatsapp',\n        'messenger',\n        'telegram',\n        'skype',\n        'viber',\n        'line',\n        'snapchat',\n        'send-email',\n        'copy-link',\n        'web-share',\n        'print',\n    ],\n    onIntent: (self, event, intent, data) => {\n        return intent === 'print' && setTimeout(window.print, 2e2);\n    },\n};\n\nfunction initSocialShare(element, customOptions = {}) {\n    const ele = document.querySelector(element);\n    if (!ele) return;\n\n    const layout = customOptions.layout || ele.dataset.layout || DEFAULT_OPTIONS.layout;\n    const options = {\n        ...DEFAULT_OPTIONS,\n        ...customOptions,\n        layout,\n    };\n\n    new SocialShare(ele, options);\n\n    if (options.intents.includes('print')) {\n        observePrintButton();\n    }\n}\n\nfunction observePrintButton() {\n    const buttons = [\n        { selector: '.share-intent-print', title: 'Print' }\n    ];\n\n    const observer = new MutationObserver(() => {\n        buttons.forEach(({ selector, title }) => {\n            const button = document.querySelector(selector);\n            if (button && (!button.title || button.title === 'undefined')) {\n                button.setAttribute('title', title);\n            }\n        });\n\n        if (buttons.every(({ selector }) => document.querySelector(selector)?.title)) {\n            observer.disconnect();\n        }\n    });\n\n    observer.observe(document.body, { childList: true, subtree: true });\n}\n\nexport { initSocialShare };\n"],"names":[],"mappings":";AAEA,MAAM,kBAAkB;AAAA,EACpB,QAAQ;AAAA,EACR,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACH;AAAA,EACD,UAAU,CAAC,MAAM,OAAO,QAAQ,SAAS;AACrC,WAAO,WAAW,WAAW,WAAW,OAAO,OAAO,GAAG;AAAA,EAC5D;AACL;AAEA,SAAS,gBAAgB,SAAS,gBAAgB,IAAI;AAClD,QAAM,MAAM,SAAS,cAAc,OAAO;AAC1C,MAAI,CAAC,IAAK;AAEV,QAAM,SAAS,cAAc,UAAU,IAAI,QAAQ,UAAU,gBAAgB;AAC7E,QAAM,UAAU;AAAA,IACZ,GAAG;AAAA,IACH,GAAG;AAAA,IACH;AAAA,EACH;AAED,MAAI,YAAY,KAAK,OAAO;AAE5B,MAAI,QAAQ,QAAQ,SAAS,OAAO,GAAG;AACnC,uBAAoB;AAAA,EAC5B;AACA;AAEA,SAAS,qBAAqB;AAC1B,QAAM,UAAU;AAAA,IACZ,EAAE,UAAU,uBAAuB,OAAO,QAAO;AAAA,EACpD;AAED,QAAM,WAAW,IAAI,iBAAiB,MAAM;AACxC,YAAQ,QAAQ,CAAC,EAAE,UAAU,MAAK,MAAO;AACrC,YAAM,SAAS,SAAS,cAAc,QAAQ;AAC9C,UAAI,WAAW,CAAC,OAAO,SAAS,OAAO,UAAU,cAAc;AAC3D,eAAO,aAAa,SAAS,KAAK;AAAA,MAClD;AAAA,IACA,CAAS;AAED,QAAI,QAAQ,MAAM,CAAC,EAAE,SAAQ;;AAAO,4BAAS,cAAc,QAAQ,MAA/B,mBAAkC;AAAA,KAAK,GAAG;AAC1E,eAAS,WAAY;AAAA,IACjC;AAAA,EACA,CAAK;AAED,WAAS,QAAQ,SAAS,MAAM,EAAE,WAAW,MAAM,SAAS,MAAM;AACtE;"}