{"version":3,"file":"index.js","sources":["../../resources/js/utils/global.js","../../resources/js/utils/back-to-top.js","../../resources/js/utils/script-loader.js","../../resources/js/utils/menu.js","../../resources/js/index.js"],"sourcesContent":["// global.js\n\n(function () {\n    // update rel\n    document.querySelectorAll('a._blank, a.blank, a[target=\"_blank\"]').forEach((el) => {\n        if (!el.hasAttribute('target') || el.getAttribute('target') !== '_blank') {\n            el.setAttribute('target', '_blank');\n        }\n\n        const relValue = el?.getAttribute('rel');\n        if (!relValue || !relValue.includes('noopener') || !relValue.includes('nofollow')) {\n            const newRelValue = (relValue ? relValue + ' ' : '') + 'noopener noreferrer nofollow';\n            el.setAttribute('rel', newRelValue);\n        }\n    });\n\n    // MutationObserver\n    const observer = new MutationObserver(() => {\n        document.querySelectorAll('ul.sub-menu[role=\"menubar\"]').forEach(menu => {\n            menu.setAttribute('role', 'menu');\n        });\n\n        document.querySelectorAll('[aria-hidden=\"true\"] a, [aria-hidden=\"true\"] button').forEach(el => {\n            el.setAttribute('tabindex', '-1');\n        });\n    });\n\n    observer.observe(document.body, { childList: true, subtree: true });\n})();\n","// back-to-top.js\n\nclass BackToTop {\n    constructor(selector = '.back-to-top', smoothScrollEnabled = true, defaultScrollSpeed = 400) {\n        this.buttonSelector = selector;\n        this.smoothScrollEnabled = smoothScrollEnabled;\n        this.defaultScrollSpeed = defaultScrollSpeed;\n        this.init();\n    }\n\n    init() {\n        if (!('querySelector' in document && 'addEventListener' in window)) {\n            console.warn('BackToTop: Browser does not support required features.');\n            return;\n        }\n\n        this.goTopBtn = document.querySelector(this.buttonSelector);\n        if (!this.goTopBtn) {\n            console.warn(`BackToTop: Button with selector \"${this.buttonSelector}\" not found.`);\n            return;\n        }\n\n        this.scrollThreshold = parseInt(this.goTopBtn.getAttribute('data-scroll-start'), 10) || 300;\n\n        // Add event listeners\n        window.addEventListener('scroll', this.trackScroll.bind(this));\n        this.goTopBtn.addEventListener('click', this.scrollToTop.bind(this), false);\n    }\n\n    trackScroll() {\n        const scrolled = window.scrollY;\n\n        if (scrolled > this.scrollThreshold) {\n            this.goTopBtn.classList.add('back-to-top__show');\n        } else {\n            this.goTopBtn.classList.remove('back-to-top__show');\n        }\n    }\n\n    scrollToTop(event) {\n        event.preventDefault();\n\n        if (this.smoothScrollEnabled) {\n            const duration = parseInt(this.goTopBtn.getAttribute('data-scroll-speed'), 10) || this.defaultScrollSpeed;\n            this.smoothScroll(duration);\n        } else {\n            window.scrollTo(0, 0);\n        }\n    }\n\n    smoothScroll(duration) {\n        const startLocation = window.scrollY;\n        const distance = -startLocation;\n        let startTime = null;\n\n        const animateScroll = (currentTime) => {\n            if (!startTime) startTime = currentTime;\n            const timeElapsed = currentTime - startTime;\n            const run = this.easeInOutQuad(timeElapsed, startLocation, distance, duration);\n\n            window.scrollTo(0, run);\n\n            if (timeElapsed < duration) {\n                requestAnimationFrame(animateScroll);\n            }\n        };\n\n        requestAnimationFrame(animateScroll);\n    }\n\n    easeInOutQuad(t, b, c, d) {\n        t /= d / 2;\n        if (t < 1) return (c / 2) * t * t + b;\n        t--;\n        return (-c / 2) * (t * (t - 2) - 1) + b;\n    }\n}\n\nsetTimeout(() => {\n    new BackToTop();\n}, 100);\n\nexport default BackToTop;\n","// script-loader.js\n\nconst scriptLoader = (timeout = 3000, scriptSelector = 'script[data-type=\"lazy\"]') => {\n    const userInteractionEvents = [ 'mouseover', 'keydown', 'touchstart', 'touchmove', 'wheel' ];\n    const loadScriptsTimer = setTimeout(loadScripts, timeout);\n\n    // Attach event listeners to trigger script loading on user interaction\n    userInteractionEvents.forEach((event) => {\n        window.addEventListener(event, triggerScriptLoader, { once: true, passive: true });\n    });\n\n    function triggerScriptLoader() {\n        loadScripts();\n        clearTimeout(loadScriptsTimer); // Clear timeout if triggered by interaction\n    }\n\n    function loadScripts() {\n        document.querySelectorAll(scriptSelector).forEach((elem) => {\n            const dataSrc = elem.getAttribute('data-src');\n            if (dataSrc) {\n                elem.setAttribute('src', dataSrc);\n                elem.removeAttribute('data-src');\n                elem.removeAttribute('data-type');\n            }\n        });\n    }\n};\n\nscriptLoader();\n\nexport default scriptLoader;\n","// menu.js\n\nexport function initMenu(containerSelector, menuSelector) {\n    const container = document.querySelector(containerSelector);\n    const menu = document.querySelector(menuSelector);\n\n    if (!container || !menu) return;\n\n    function adjustMenu() {\n        let more = menu.querySelector('.more');\n\n        if (!more) {\n            more = document.createElement('li');\n            more.classList.add('menu-item', 'more');\n            more.innerHTML = '<a href=\"#\"></a><ul class=\"sub-menu dropdown\"></ul>';\n            menu.appendChild(more);\n        }\n\n        const dropdown = more.querySelector('.dropdown');\n        dropdown.innerHTML = '';\n        more.style.display = 'none';\n\n        let items = [ ...menu.children ].filter((li) => li !== more);\n        items.forEach((li) => (li.style.display = 'block'));\n\n        if (menu.scrollWidth <= container.clientWidth) {\n            removeOverflowHidden();\n            return;\n        }\n\n        let hiddenItems = [];\n        for (let i = items.length - 1; i >= 0; i--) {\n            if (menu.scrollWidth > container.clientWidth) {\n                hiddenItems.unshift(items[i]);\n                items[i].style.display = 'none';\n            } else {\n                break;\n            }\n        }\n\n        if (hiddenItems.length > 0) {\n            hiddenItems.forEach((item) => {\n                let clone = item.cloneNode(true);\n                clone.style.display = 'block';\n                dropdown.appendChild(clone);\n            });\n            more.style.display = 'block';\n        }\n\n        removeOverflowHidden();\n    }\n\n    function setOverflowHidden() {\n        container.style.overflow = 'hidden';\n    }\n\n    function removeOverflowHidden() {\n        container.style.overflow = 'visible';\n    }\n\n    function reinitializeFoundationDropdown() {\n        if (typeof Foundation !== 'undefined') {\n            let mainNav = $(menuSelector);\n            if (mainNav.length) {\n                new Foundation.DropdownMenu(mainNav);\n            }\n        }\n    }\n\n    let resizeTimeout;\n    window.addEventListener('resize', function() {\n        setOverflowHidden();\n        clearTimeout(resizeTimeout);\n        resizeTimeout = setTimeout(() => {\n            adjustMenu();\n            reinitializeFoundationDropdown();\n        }, 100);\n    });\n\n    adjustMenu();\n}\n","import $ from 'jquery';\r\nimport Foundation from './3rd/_zf.js';\r\n\r\nimport './utils/global.js';\r\nimport './utils/back-to-top.js';\r\nimport './utils/script-loader.js';\r\nimport { initMenu } from './utils/menu.js';\r\n\r\nimport { initSocialShare } from './components/social-share.js';\r\n//import SimpleBar from 'simplebar';\r\n//import ResizeObserver from 'resize-observer-polyfill';\r\n//import { Fancybox } from '@fancyapps/ui';\r\n//import select2 from 'select2';\r\n\r\n//window.ResizeObserver = ResizeObserver;\r\n//select2();\r\n\r\n// Styles\r\nimport '../sass/3rd/_index.scss';\r\n//import 'simplebar/dist/simplebar.css';\r\n//import '@fancyapps/ui/dist/fancybox/fancybox.css';\r\n\r\n// DOMContentLoaded\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    initMenu('nav.nav', '.main-nav');\r\n    initSocialShare('[data-social-share]', { intents: [ 'facebook', 'x', 'print', 'send-email', 'copy-link', 'web-share' ] });\r\n});\r\n"],"names":[],"mappings":"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"}