{"version":3,"file":"swiper.js","sources":["../../resources/js/components/swiper.js"],"sourcesContent":["import { nanoid } from 'nanoid';\nimport Swiper from 'swiper/bundle';\n\n/**\n * Initialize a Swiper instance for a given element.\n * @param el\n * @param swiperClass\n * @param options\n */\nconst initializeSwiper = (el, swiperClass, options) => {\n    if (!(el instanceof Element)) {\n        console.error('Error: The provided element is not a valid DOM element.');\n        return;\n    }\n\n    if (el.classList.contains('swiper-initialized') || el.dataset.swiperInitialized) return; // Prevent re-initialization\n    el.dataset.swiperInitialized = 'true';\n\n    const swiper = new Swiper(swiperClass, options);\n\n    // Pause autoplay on hover, resume on mouse out\n    el.addEventListener('mouseover', () => swiper.autoplay?.stop());\n    el.addEventListener('mouseout', () => options.autoplay && swiper.autoplay?.start());\n\n    return swiper;\n};\n\n/**\n * Generate unique class names for Swiper instance.\n * @returns {Object} - Object containing unique class names.\n */\nconst generateClasses = () => {\n    const rand = nanoid(10);\n    return {\n        rand: rand,\n        swiperClass: `swiper-${rand}`,\n        nextClass: `next-${rand}`,\n        prevClass: `prev-${rand}`,\n        paginationClass: `pagination-${rand}`,\n        scrollbarClass: `scrollbar-${rand}`,\n    };\n};\n\n/**\n * Default Swiper options.\n * @returns {Object} - Default Swiper configuration.\n */\nconst getDefaultOptions = () => ({\n    grabCursor: true,\n    allowTouchMove: true,\n    threshold: 5,\n    autoHeight: false,\n    loop: false,\n    hashNavigation: false,\n    direction: 'horizontal',\n    freeMode: false,\n    cssMode: false,\n    centeredSlides: false,\n    slidesPerView: 'auto',\n});\n\n/**\n * Parse options safely\n * @param el\n * @returns {{}|any|{}}\n */\nconst parseOptions = (el) => {\n    try {\n        return JSON.parse(el.dataset.options) || {};\n    } catch (e) {\n        console.error('Invalid JSON in data-options', e);\n        return {};\n    }\n};\n\n// Initialize Swipers\nconst initializeSwipers = () => {\n    const swiperElements = document.querySelectorAll('.w-swiper');\n    swiperElements.forEach((el) => {\n        if (el.classList.contains('swiper-initialized')) return; // Prevent re-initialization\n\n        const classes = generateClasses();\n        el.classList.add(classes.swiperClass);\n\n        const container = el.closest('.swiper-container');\n\n        // Create or get control container\n        let controls = container?.querySelector('.swiper-controls');\n        if (!controls) {\n            controls = document.createElement('div');\n            controls.classList.add('swiper-controls');\n            el.after(controls);\n        }\n\n        let options = parseOptions(el);\n        let swiperOptions = { ...getDefaultOptions() };\n\n        // Parse specific options\n        [\n            'autoHeight',\n            'loop',\n            'freeMode',\n            'cssMode',\n            'mousewheel',\n            'parallax',\n            'hashNavigation',\n        ].forEach(key => options[key] && (swiperOptions[key] = true));\n\n        swiperOptions.wrapperClass = String(options.wrapperClass || 'swiper-wrapper');\n        swiperOptions.slideClass = String(options.slideClass || 'swiper-slide');\n        swiperOptions.slideActiveClass = String(options.slideActiveClass || 'swiper-slide-active');\n\n        swiperOptions.direction = String(options.direction || 'horizontal');\n        swiperOptions.slidesPerView = options.slidesPerView || 'auto';\n        swiperOptions.spaceBetween = parseInt(options.spaceBetween, 10) || 0;\n        swiperOptions.speed = parseInt(options.speed, 10) || 300;\n\n        // Grid settings\n        if (options.grid) {\n            swiperOptions.grid = {\n                rows: Math.max(parseInt(options.grid?.rows) || 1, 1),\n                fill: options.grid?.fill || 'row',\n            };\n            if (options.loop) swiperOptions.loopAddBlankSlides = true;\n        }\n\n        // Autoplay settings\n        if (options.autoplay) {\n            swiperOptions.autoplay = {\n                delay: parseInt(options.autoplay?.delay) || 3000,\n                disableOnInteraction: options.autoplay?.disableOnInteraction || true,\n                reverseDirection: options.autoplay?.reverseDirection || false,\n            };\n        }\n\n        // Navigation controls\n        if (options.navigation) {\n            let btnPrev = container?.querySelector('.swiper-button-prev');\n            let btnNext = container?.querySelector('.swiper-button-next');\n\n            if (!btnPrev) {\n                btnPrev = document.createElement('div');\n                btnPrev.classList.add('swiper-button', 'swiper-button-prev');\n                btnPrev.setAttribute('data-fa', '');\n                controls.append(btnPrev);\n            }\n            if (!btnNext) {\n                btnNext = document.createElement('div');\n                btnNext.classList.add('swiper-button', 'swiper-button-next');\n                btnNext.setAttribute('data-fa', '');\n                controls.append(btnNext);\n            }\n\n            btnPrev.classList.add(classes.prevClass);\n            btnNext.classList.add(classes.nextClass);\n\n            swiperOptions.navigation = {\n                nextEl: `.${classes.nextClass}`,\n                prevEl: `.${classes.prevClass}`,\n            };\n        }\n\n        // Pagination controls\n        if (options.pagination) {\n            let pagination = container?.querySelector('.swiper-pagination');\n            if (!pagination) {\n                pagination = document.createElement('div');\n                pagination.classList.add('swiper-pagination');\n                controls.appendChild(pagination);\n            }\n\n            pagination.classList.add(classes.paginationClass);\n\n            const paginationType = String(options.pagination);\n            swiperOptions.pagination = {\n                el: `.${classes.paginationClass}`,\n                clickable: true,\n                ...(paginationType === 'bullets' && { dynamicBullets: !0, type: 'bullets' }),\n                ...(paginationType === 'fraction' && { type: 'fraction' }),\n                ...(paginationType === 'progressbar' && { type: 'progressbar' }),\n                ...(paginationType === 'custom' && {\n                    renderBullet: (index, className) => `<span class=\"${className}\">${index + 1}</span>`,\n                }),\n            };\n        }\n\n        // Scrollbar controls\n        if (options.scrollbar) {\n            let scrollbar = container?.querySelector('.swiper-scrollbar');\n            if (!scrollbar) {\n                scrollbar = document.createElement('div');\n                scrollbar.classList.add('swiper-scrollbar');\n                controls.appendChild(scrollbar);\n            }\n\n            scrollbar.classList.add(classes.scrollbarClass);\n\n            swiperOptions.scrollbar = {\n                el: `.${classes.scrollbarClass}`,\n                hide: true,\n                draggable: true,\n            };\n        }\n\n        // observer\n        if (options._observer) {\n            swiperOptions.observer = !0;\n            swiperOptions.observeParents = !0;\n            swiperOptions.observeSlideChildren = !0;\n        }\n\n        // centeredSlides\n        if (options._centered) {\n            swiperOptions.centeredSlides = !0;\n            swiperOptions.centeredSlidesBounds = !0;\n        }\n\n        // marquee\n        if (options._marquee) {\n            swiperOptions.centeredSlides = !1;\n            swiperOptions.autoplay = {\n                delay: 1,\n                disableOnInteraction: !0,\n            };\n            swiperOptions.loop = !0;\n            swiperOptions.speed = 6000;\n            swiperOptions.allowTouchMove = !0;\n        }\n\n        // spaceBetween breakpoints\n        if (options._gap) {\n            swiperOptions.spaceBetween = 20;\n            swiperOptions.breakpoints = {\n                768: { spaceBetween: 28 },\n            };\n        }\n\n        // breakpoints\n        if (options._breakpoints) {\n            swiperOptions.breakpoints = {\n                0: options?._mobile || {},\n                768: options?._tablet || {},\n                1024: options?._desktop || {},\n            };\n        }\n\n        initializeSwiper(el, `.${classes.swiperClass}`, swiperOptions);\n    });\n};\n\ndocument.addEventListener('DOMContentLoaded', initializeSwipers);\n"],"names":[],"mappings":"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"}