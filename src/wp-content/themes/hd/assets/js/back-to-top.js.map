{"version":3,"file":"back-to-top.js","sources":["../../resources/js/components/back-to-top.js"],"sourcesContent":["export default class BackToTop {\n    constructor(selector = '.back-to-top', smoothScrollEnabled = true, defaultScrollSpeed = 400) {\n        this.buttonSelector = selector;\n        this.smoothScrollEnabled = smoothScrollEnabled;\n        this.defaultScrollSpeed = defaultScrollSpeed;\n        this.init();\n    }\n\n    init() {\n        if (!('querySelector' in document && 'addEventListener' in window)) {\n            console.warn('BackToTop: Browser does not support required features.');\n            return;\n        }\n\n        this.goTopBtn = document.querySelector(this.buttonSelector);\n        if (!this.goTopBtn) {\n            console.warn(`BackToTop: Button with selector \"${this.buttonSelector}\" not found.`);\n            return;\n        }\n\n        this.scrollThreshold = parseInt(this.goTopBtn.getAttribute('data-scroll-start'), 10) || 300;\n\n        // Add event listeners\n        window.addEventListener('scroll', this.trackScroll.bind(this));\n        this.goTopBtn.addEventListener('click', this.scrollToTop.bind(this), false);\n    }\n\n    trackScroll() {\n        const scrolled = window.scrollY;\n\n        if (scrolled > this.scrollThreshold) {\n            this.goTopBtn.classList.add('back-to-top__show');\n        } else {\n            this.goTopBtn.classList.remove('back-to-top__show');\n        }\n    }\n\n    scrollToTop(event) {\n        event.preventDefault();\n\n        if (this.smoothScrollEnabled) {\n            const duration = parseInt(this.goTopBtn.getAttribute('data-scroll-speed'), 10) || this.defaultScrollSpeed;\n            this.smoothScroll(duration);\n        } else {\n            window.scrollTo(0, 0);\n        }\n    }\n\n    smoothScroll(duration) {\n        const startLocation = window.scrollY;\n        const distance = -startLocation;\n        let startTime = null;\n\n        const animateScroll = (currentTime) => {\n            if (!startTime) startTime = currentTime;\n            const timeElapsed = currentTime - startTime;\n            const run = this.easeInOutQuad(timeElapsed, startLocation, distance, duration);\n\n            window.scrollTo(0, run);\n\n            if (timeElapsed < duration) {\n                requestAnimationFrame(animateScroll);\n            }\n        };\n\n        requestAnimationFrame(animateScroll);\n    }\n\n    easeInOutQuad(t, b, c, d) {\n        t /= d / 2;\n        if (t < 1) return (c / 2) * t * t + b;\n        t--;\n        return (-c / 2) * (t * (t - 2) - 1) + b;\n    }\n}\n"],"names":[],"mappings":"AAAe,MAAM,UAAU;AAAA,EAC3B,YAAY,WAAW,gBAAgB,sBAAsB,MAAM,qBAAqB,KAAK;AACzF,SAAK,iBAAiB;AACtB,SAAK,sBAAsB;AAC3B,SAAK,qBAAqB;AAC1B,SAAK,KAAM;AAAA,EACnB;AAAA,EAEI,OAAO;AACH,QAAI,EAAE,mBAAmB,YAAY,sBAAsB,SAAS;AAChE,cAAQ,KAAK,wDAAwD;AACrE;AAAA,IACZ;AAEQ,SAAK,WAAW,SAAS,cAAc,KAAK,cAAc;AAC1D,QAAI,CAAC,KAAK,UAAU;AAChB,cAAQ,KAAK,oCAAoC,KAAK,cAAc,cAAc;AAClF;AAAA,IACZ;AAEQ,SAAK,kBAAkB,SAAS,KAAK,SAAS,aAAa,mBAAmB,GAAG,EAAE,KAAK;AAGxF,WAAO,iBAAiB,UAAU,KAAK,YAAY,KAAK,IAAI,CAAC;AAC7D,SAAK,SAAS,iBAAiB,SAAS,KAAK,YAAY,KAAK,IAAI,GAAG,KAAK;AAAA,EAClF;AAAA,EAEI,cAAc;AACV,UAAM,WAAW,OAAO;AAExB,QAAI,WAAW,KAAK,iBAAiB;AACjC,WAAK,SAAS,UAAU,IAAI,mBAAmB;AAAA,IAC3D,OAAe;AACH,WAAK,SAAS,UAAU,OAAO,mBAAmB;AAAA,IAC9D;AAAA,EACA;AAAA,EAEI,YAAY,OAAO;AACf,UAAM,eAAgB;AAEtB,QAAI,KAAK,qBAAqB;AAC1B,YAAM,WAAW,SAAS,KAAK,SAAS,aAAa,mBAAmB,GAAG,EAAE,KAAK,KAAK;AACvF,WAAK,aAAa,QAAQ;AAAA,IACtC,OAAe;AACH,aAAO,SAAS,GAAG,CAAC;AAAA,IAChC;AAAA,EACA;AAAA,EAEI,aAAa,UAAU;AACnB,UAAM,gBAAgB,OAAO;AAC7B,UAAM,WAAW,CAAC;AAClB,QAAI,YAAY;AAEhB,UAAM,gBAAgB,CAAC,gBAAgB;AACnC,UAAI,CAAC,UAAW,aAAY;AAC5B,YAAM,cAAc,cAAc;AAClC,YAAM,MAAM,KAAK,cAAc,aAAa,eAAe,UAAU,QAAQ;AAE7E,aAAO,SAAS,GAAG,GAAG;AAEtB,UAAI,cAAc,UAAU;AACxB,8BAAsB,aAAa;AAAA,MACnD;AAAA,IACS;AAED,0BAAsB,aAAa;AAAA,EAC3C;AAAA,EAEI,cAAc,GAAG,GAAG,GAAG,GAAG;AACtB,SAAK,IAAI;AACT,QAAI,IAAI,EAAG,QAAQ,IAAI,IAAK,IAAI,IAAI;AACpC;AACA,WAAQ,CAAC,IAAI,KAAM,KAAK,IAAI,KAAK,KAAK;AAAA,EAC9C;AACA;"}