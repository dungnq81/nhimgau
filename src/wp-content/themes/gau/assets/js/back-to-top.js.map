{"version":3,"file":"back-to-top.js","sources":["../../resources/js/components/back-to-top.js"],"sourcesContent":["export default class BackToTop {\n    constructor( selector = '.back-to-top', smoothScrollEnabled = true, defaultScrollSpeed = 400 ) {\n        this.buttonSelector = selector;\n        this.smoothScrollEnabled = smoothScrollEnabled;\n        this.defaultScrollSpeed = defaultScrollSpeed;\n        this.init();\n    }\n\n    init() {\n        if ( !( 'querySelector' in document && 'addEventListener' in window ) ) {\n            console.warn( 'BackToTop: Browser does not support required features.' );\n            return;\n        }\n\n        this.goTopBtn = document.querySelector( this.buttonSelector );\n        if ( !this.goTopBtn ) {\n            console.warn( `BackToTop: Button with selector \"${ this.buttonSelector }\" not found.` );\n            return;\n        }\n\n        this.scrollThreshold = parseInt( this.goTopBtn.getAttribute( 'data-scroll-start' ), 10 ) || 300;\n\n        // Add event listeners\n        window.addEventListener( 'scroll', this.trackScroll.bind( this ) );\n        this.goTopBtn.addEventListener( 'click', this.scrollToTop.bind( this ), false );\n    }\n\n    trackScroll() {\n        const scrolled = window.scrollY;\n\n        if ( scrolled > this.scrollThreshold ) {\n            this.goTopBtn.classList.add( 'back-to-top__show' );\n        } else {\n            this.goTopBtn.classList.remove( 'back-to-top__show' );\n        }\n    }\n\n    scrollToTop( event ) {\n        event.preventDefault();\n\n        if ( this.smoothScrollEnabled ) {\n            const duration = parseInt( this.goTopBtn.getAttribute( 'data-scroll-speed' ), 10 ) || this.defaultScrollSpeed;\n            this.smoothScroll( duration );\n        } else {\n            window.scrollTo( 0, 0 );\n        }\n    }\n\n    smoothScroll( duration ) {\n        const startLocation = window.scrollY;\n        const distance = -startLocation;\n        let startTime = null;\n\n        const animateScroll = ( currentTime ) => {\n            if ( !startTime ) startTime = currentTime;\n            const timeElapsed = currentTime - startTime;\n            const run = this.easeInOutQuad( timeElapsed, startLocation, distance, duration );\n\n            window.scrollTo( 0, run );\n\n            if ( timeElapsed < duration ) {\n                requestAnimationFrame( animateScroll );\n            }\n        };\n\n        requestAnimationFrame( animateScroll );\n    }\n\n    easeInOutQuad( t, b, c, d ) {\n        t /= d / 2;\n        if ( t < 1 ) return ( c / 2 ) * t * t + b;\n        t--;\n        return ( -c / 2 ) * ( t * ( t - 2 ) - 1 ) + b;\n    }\n}\n"],"names":[],"mappings":"AAAA,MAAqB,UAAU;AAAA,EAC3B,YAAa,WAAW,gBAAgB,sBAAsB,MAAM,qBAAqB,KAAM;AAC3F,SAAK,iBAAiB;AACtB,SAAK,sBAAsB;AAC3B,SAAK,qBAAqB;AAC1B,SAAK,KAAK;AAAA,EAAA;AAAA,EAGd,OAAO;AACH,QAAK,EAAG,mBAAmB,YAAY,sBAAsB,SAAW;AACpE,cAAQ,KAAM,wDAAyD;AACvE;AAAA,IAAA;AAGJ,SAAK,WAAW,SAAS,cAAe,KAAK,cAAe;AACvD,QAAA,CAAC,KAAK,UAAW;AAClB,cAAQ,KAAM,oCAAqC,KAAK,cAAe,cAAe;AACtF;AAAA,IAAA;AAGC,SAAA,kBAAkB,SAAU,KAAK,SAAS,aAAc,mBAAoB,GAAG,EAAG,KAAK;AAG5F,WAAO,iBAAkB,UAAU,KAAK,YAAY,KAAM,IAAK,CAAE;AAC5D,SAAA,SAAS,iBAAkB,SAAS,KAAK,YAAY,KAAM,IAAK,GAAG,KAAM;AAAA,EAAA;AAAA,EAGlF,cAAc;AACV,UAAM,WAAW,OAAO;AAEnB,QAAA,WAAW,KAAK,iBAAkB;AAC9B,WAAA,SAAS,UAAU,IAAK,mBAAoB;AAAA,IAAA,OAC9C;AACE,WAAA,SAAS,UAAU,OAAQ,mBAAoB;AAAA,IAAA;AAAA,EACxD;AAAA,EAGJ,YAAa,OAAQ;AACjB,UAAM,eAAe;AAErB,QAAK,KAAK,qBAAsB;AACtB,YAAA,WAAW,SAAU,KAAK,SAAS,aAAc,mBAAoB,GAAG,EAAG,KAAK,KAAK;AAC3F,WAAK,aAAc,QAAS;AAAA,IAAA,OACzB;AACI,aAAA,SAAU,GAAG,CAAE;AAAA,IAAA;AAAA,EAC1B;AAAA,EAGJ,aAAc,UAAW;AACrB,UAAM,gBAAgB,OAAO;AAC7B,UAAM,WAAW,CAAC;AAClB,QAAI,YAAY;AAEV,UAAA,gBAAgB,CAAE,gBAAiB;AAChC,UAAA,CAAC,UAAwB,aAAA;AAC9B,YAAM,cAAc,cAAc;AAClC,YAAM,MAAM,KAAK,cAAe,aAAa,eAAe,UAAU,QAAS;AAExE,aAAA,SAAU,GAAG,GAAI;AAExB,UAAK,cAAc,UAAW;AAC1B,8BAAuB,aAAc;AAAA,MAAA;AAAA,IAE7C;AAEA,0BAAuB,aAAc;AAAA,EAAA;AAAA,EAGzC,cAAe,GAAG,GAAG,GAAG,GAAI;AACxB,SAAK,IAAI;AACT,QAAK,IAAI,EAAI,QAAS,IAAI,IAAM,IAAI,IAAI;AACxC;AACA,WAAS,CAAC,IAAI,KAAQ,KAAM,IAAI,KAAM,KAAM;AAAA,EAAA;AAEpD;"}