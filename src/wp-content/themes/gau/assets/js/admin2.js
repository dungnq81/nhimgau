import{a as e,n as t}from"./_vendor.js";Object.assign(window,{Cookies:e}),jQuery((function(r){function i(e){const i=r(e),n=t(9);i.addClass(n);let d=i.attr("id");return d||(d=n,i.attr("id",d)),d}if("undefined"!=typeof codemirror_settings){const e=[...document.querySelectorAll(".codemirror_css")];_.each(e,(function(e,t){i(e);let r=codemirror_settings.codemirror_css?_.clone(codemirror_settings.codemirror_css):{};r.codemirror=_.extend({},r.codemirror,{indentUnit:3,tabSize:3,autoRefresh:!0}),wp.codeEditor.initialize(e,r)}));const t=[...document.querySelectorAll(".codemirror_html")];_.each(t,(function(e,t){i(e);let r=codemirror_settings.codemirror_html?_.clone(codemirror_settings.codemirror_html):{};r.codemirror=_.extend({},r.codemirror,{indentUnit:3,tabSize:3,autoRefresh:!0}),wp.codeEditor.initialize(e,r)}))}r.fn.fadeOutAndRemove=function(e){return this.fadeOut(e,(function(){r(this).remove()}))},r.fn.serializeObject=function(){let e={},t=this.serializeArray();return r.each(t,(function(){let t=this.name,r=this.value||"";t.indexOf("[]")>-1?(t=t.replace("[]",""),e[t]||(e[t]=[]),e[t].push(r)):void 0!==e[t]?(Array.isArray(e[t])||(e[t]=[e[t]]),e[t].push(r)):e[t]=r})),e},r(document).ajaxStart((()=>{Pace.restart()})),r(document).on("click",".notice-dismiss",(function(e){var t;null==(t=r(this).closest(".notice.is-dismissible"))||t.fadeOutAndRemove(400)}));const n=r(".filter-tabs");r.each(n,(function(t,n){const d=r(n),o=i(n),s=d.find(".tabs-nav"),a=d.find(".tabs-content"),c=`cookie_${o}_${t}`;let l=e.get(c);l||(l=s.find("a:first").attr("href"),e.set(c,l,{expires:7,path:""})),s.find("a.current").removeClass("current"),s.find(`a[href="${l}"]`).addClass("current"),s.find("a").on("click",(function(t){t.preventDefault();const i=r(this),n=i.attr("href");e.set(c,n,{expires:7,path:""}),s.find("a.current").removeClass("current"),a.find(".tabs-panel:visible").removeClass("show").hide(),r(i.attr("href")).addClass("show").show(),i.addClass("current")})).filter(".current").trigger("click")}));r("#createuser").find("#send_user_notification").removeAttr("checked").attr("disabled",!0),r(document).on("submit","#hd_form",(function(e){e.preventDefault();let t=r(this),i=t.find('button[name="hd_submit_settings"]'),n=i.html();i.prop("disabled",!0).html('<i class="fa-solid fa-spinner fa-spin-pulse"></i>'),r.ajax({type:"POST",url:ajaxurl,data:{action:"submit_settings",_data:t.serializeObject(),_ajax_nonce:t.find('input[name="_wpnonce"]').val(),_wp_http_referer:t.find('input[name="_wp_http_referer"]').val()}}).done((function(e){i.prop("disabled",!1).html(n),t.find("#hd_content").prepend(e),setTimeout((()=>{var e;null==(e=t.find("#hd_content").find(".dismissible-auto"))||e.fadeOutAndRemove(400)}),4e3)})).fail((function(e,t,r){i.prop("disabled",!1).html(n)}))}));const d=r(".select2-multiple");r.each(d,(function(e,t){r(t).select2({multiple:!0,allowClear:!0,width:"resolve",dropdownAutoWidth:!0,placeholder:r(t).attr("placeholder")})}));const o=r(".select2-tags");r.each(o,(function(e,t){r(t).select2({multiple:!0,tags:!0,allowClear:!0,width:"resolve",dropdownAutoWidth:!0,placeholder:r(t).attr("placeholder")})}));const s=r(".select2-ips");r.each(s,(function(e,t){r(t).select2({multiple:!0,tags:!0,allowClear:!0,width:"resolve",dropdownAutoWidth:!0,placeholder:r(t).attr("placeholder"),createTag:function(e){let t=r.trim(e.term);return function(e){const t=/^(25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})\.(25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})\.(25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})\.(25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})-(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])$/,r=/^(25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})\.(25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})\.(25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})\.(25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})\/(\d|[1-2]\d|3[0-2])$/;if(/^(25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})\.(25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})\.(25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})\.(25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})$/.test(e))return!0;if(t.test(e)){const[t,r]=e.split("-"),i=t.split(".").slice(0,3).join(".")+"."+r;return function(e,t){const r=e.split(".").map(Number),i=t.split(".").map(Number);for(let n=0;n<4;n++){if(r[n]<i[n])return-1;if(r[n]>i[n])return 1}return 0}(t,i)<0}return r.test(e)}(t)?{id:t,text:t}:null}})}))}));
